<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="mybatis/mapper/calendar.xml">
 	<select id="selectOptions" parameterType="String" resultType="Map">
		SELECT name FROM testweight WHERE type = #{type} 		
	</select>
	
	<select id="selectSportsNo" parameterType="String" resultType="Map">
		SELECT no FROM testweight
		WHERE name =#{name}
		<!--   
		<foreach collection="collection" open="(" close=")" item="item" separator=",">
			#{item}
		</foreach>
		 -->
	</select>
	
	<insert id="insertWeight" parameterType="Map">
		INSERT INTO weightbbs VALUES(SEQ_BBS.NEXTVAL,#{kg},#{count},#{postdate},#{no},#{id})
	</insert>
	
	<select id="selectCalendarW" parameterType="Map" resultType="Map">
		SELECT type,postdate FROM testweight T JOIN weightbbs W ON T.no=W.no WHERE id=#{id}
	</select>
	
	<select id="selectCalendarF" parameterType="Map" resultType="Map">
		SELECT postdate FROM foodbbs WHERE id=#{id}
	</select>
	
	<select id="selectWeight" parameterType="Map" resultType="Map">
		SELECT * FROM testweight T JOIN weightbbs W ON T.no=W.no WHERE id=#{id} AND postdate=#{postdate}
	</select>
	
	<delete id="deleteWegiht" parameterType="String">
		DELETE weightbbs WHERE w_no=#{w_no}
	</delete>
	
	<insert id="insertFood" parameterType="Map">
		INSERT INTO foodbbs VALUES(SEQ_FOODBBS.NEXTVAL,#{f_name},#{f_size},#{f_kcal},#{f_tan},#{f_dan},#{f_gi},#{id},#{postdate})
	</insert>
	
	<select id="selectFood" parameterType="Map" resultType="Map">
		SELECT * FROM foodbbs WHERE id=#{id} AND postdate=#{postdate}
	</select>
	
	<delete id="deleteFood" parameterType="String">
		DELETE foodbbs WHERE f_no=#{f_no}
	</delete>
	
 </mapper> 